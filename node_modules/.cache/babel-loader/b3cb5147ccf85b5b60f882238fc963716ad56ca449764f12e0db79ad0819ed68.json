{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/esnext.json.parse.js\";\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"bg-white text-slate-900\"\n};\nconst _hoisted_2 = {\n  id: \"home\"\n};\nconst _hoisted_3 = {\n  id: \"about\"\n};\nconst _hoisted_4 = {\n  id: \"properties\"\n};\nconst _hoisted_5 = {\n  id: \"featured\"\n};\nconst _hoisted_6 = {\n  id: \"services\"\n};\nconst _hoisted_7 = {\n  id: \"testimonials\"\n};\nconst _hoisted_8 = {\n  id: \"faq\"\n};\nconst _hoisted_9 = {\n  id: \"contact\"\n};\nimport { ref, onMounted } from 'vue';\nimport axios from 'axios';\nimport API_ENDPOINTS from '@/config/api';\n\n// Import section components\nimport HeroSection from '@/components/sections/HeroSection.vue';\nimport AboutSection from '@/components/sections/AboutSection.vue';\nimport PropertyListSection from '@/components/sections/PropertyListSection.vue';\nimport FeaturedPropertiesSection from '@/components/sections/FeaturedPropertiesSection.vue';\nimport ServicesSection from '@/components/sections/ServicesSection.vue';\nimport TestimonialsSection from '@/components/sections/TestimonialsSection.vue';\nimport FAQSection from '@/components/sections/FAQSection.vue';\nimport ContactSection from '@/components/sections/ContactSection.vue';\nconst HOME_PAGE = 'Home';\nexport default {\n  __name: 'PageManagement',\n  setup(__props) {\n    const HOME_STORAGE_KEY = `customPageData:${HOME_PAGE}`;\n    const pageData = ref({});\n\n    // Transform API response to key-value format\n    const transformToKeyValue = data => {\n      if (!data || !Array.isArray(data)) return {};\n      const result = {};\n      data.forEach(item => {\n        const tag = item.tag_name || item.tag;\n        if (!tag) return;\n\n        // Parse content if it's a string\n        let content = item.content;\n        if (typeof content === 'string') {\n          try {\n            content = JSON.parse(content);\n          } catch (e) {\n            // Keep as string\n          }\n        }\n\n        // Group by tag name\n        if (result[tag]) {\n          if (Array.isArray(result[tag])) {\n            result[tag].push(content);\n          } else {\n            result[tag] = [result[tag], content];\n          }\n        } else {\n          result[tag] = content;\n        }\n      });\n      return result;\n    };\n\n    // Fetch custom page data from API\n    const fetchPageData = async () => {\n      // First check cache\n      try {\n        const cached = localStorage.getItem(HOME_STORAGE_KEY);\n        if (cached) {\n          pageData.value = JSON.parse(cached);\n        }\n      } catch (error) {\n        console.warn('Failed to read cached page data', error);\n      }\n\n      // Then fetch fresh data\n      try {\n        const response = await axios.get(API_ENDPOINTS.customPages, {\n          params: {\n            isFrontend: true,\n            page: HOME_PAGE\n          }\n        });\n        const rawData = response?.data?.data || response?.data || [];\n        const transformed = transformToKeyValue(rawData);\n\n        // Update state and cache\n        pageData.value = transformed;\n        localStorage.setItem(HOME_STORAGE_KEY, JSON.stringify(transformed));\n      } catch (error) {\n        console.warn('Failed to fetch page data', error);\n      }\n    };\n    onMounted(() => {\n      fetchPageData();\n    });\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(\"main\", _hoisted_1, [_createElementVNode(\"section\", _hoisted_2, [_createVNode(HeroSection, {\n        pageData: pageData.value\n      }, null, 8, [\"pageData\"])]), _createElementVNode(\"section\", _hoisted_3, [_createVNode(AboutSection, {\n        pageData: pageData.value\n      }, null, 8, [\"pageData\"])]), _createElementVNode(\"section\", _hoisted_4, [_createVNode(PropertyListSection, {\n        pageData: pageData.value\n      }, null, 8, [\"pageData\"])]), _createElementVNode(\"section\", _hoisted_5, [_createVNode(FeaturedPropertiesSection, {\n        pageData: pageData.value\n      }, null, 8, [\"pageData\"])]), _createElementVNode(\"section\", _hoisted_6, [_createVNode(ServicesSection, {\n        pageData: pageData.value\n      }, null, 8, [\"pageData\"])]), _createElementVNode(\"section\", _hoisted_7, [_createVNode(TestimonialsSection)]), _createElementVNode(\"section\", _hoisted_8, [_createVNode(FAQSection, {\n        pageData: pageData.value\n      }, null, 8, [\"pageData\"])]), _createElementVNode(\"section\", _hoisted_9, [_createVNode(ContactSection, {\n        pageData: pageData.value\n      }, null, 8, [\"pageData\"])])]);\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","axios","API_ENDPOINTS","HeroSection","AboutSection","PropertyListSection","FeaturedPropertiesSection","ServicesSection","TestimonialsSection","FAQSection","ContactSection","HOME_PAGE","HOME_STORAGE_KEY","pageData","transformToKeyValue","data","Array","isArray","result","forEach","item","tag","tag_name","content","JSON","parse","e","push","fetchPageData","cached","localStorage","getItem","value","error","console","warn","response","get","customPages","params","isFrontend","page","rawData","transformed","setItem","stringify","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9"],"sources":["/Users/itgroup/Library/Mobile Documents/com~apple~CloudDocs/example/new_template_psggroup/compro_new/src/views/PageManagement.vue"],"sourcesContent":["<template>\n  <main class=\"bg-white text-slate-900\">\n    <section id=\"home\">\n      <HeroSection :pageData=\"pageData\" />\n    </section>\n    <section id=\"about\">\n      <AboutSection :pageData=\"pageData\" />\n    </section>\n    <section id=\"properties\">\n      <PropertyListSection :pageData=\"pageData\" />\n    </section>\n    <section id=\"featured\">\n      <FeaturedPropertiesSection :pageData=\"pageData\" />\n    </section>\n    <section id=\"services\">\n      <ServicesSection :pageData=\"pageData\" />\n    </section>\n    <section id=\"testimonials\">\n      <TestimonialsSection />\n    </section>\n    <section id=\"faq\">\n      <FAQSection :pageData=\"pageData\" />\n    </section>\n    <section id=\"contact\">\n      <ContactSection :pageData=\"pageData\" />\n    </section>\n  </main>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\nimport axios from 'axios';\nimport API_ENDPOINTS from '@/config/api';\n\n// Import section components\nimport HeroSection from '@/components/sections/HeroSection.vue';\nimport AboutSection from '@/components/sections/AboutSection.vue';\nimport PropertyListSection from '@/components/sections/PropertyListSection.vue';\nimport FeaturedPropertiesSection from '@/components/sections/FeaturedPropertiesSection.vue';\nimport ServicesSection from '@/components/sections/ServicesSection.vue';\nimport TestimonialsSection from '@/components/sections/TestimonialsSection.vue';\nimport FAQSection from '@/components/sections/FAQSection.vue';\nimport ContactSection from '@/components/sections/ContactSection.vue';\n\nconst HOME_PAGE = 'Home';\nconst HOME_STORAGE_KEY = `customPageData:${HOME_PAGE}`;\n\nconst pageData = ref({});\n\n// Transform API response to key-value format\nconst transformToKeyValue = (data) => {\n  if (!data || !Array.isArray(data)) return {};\n  \n  const result = {};\n  data.forEach(item => {\n    const tag = item.tag_name || item.tag;\n    if (!tag) return;\n    \n    // Parse content if it's a string\n    let content = item.content;\n    if (typeof content === 'string') {\n      try {\n        content = JSON.parse(content);\n      } catch (e) {\n        // Keep as string\n      }\n    }\n    \n    // Group by tag name\n    if (result[tag]) {\n      if (Array.isArray(result[tag])) {\n        result[tag].push(content);\n      } else {\n        result[tag] = [result[tag], content];\n      }\n    } else {\n      result[tag] = content;\n    }\n  });\n  \n  return result;\n};\n\n// Fetch custom page data from API\nconst fetchPageData = async () => {\n  // First check cache\n  try {\n    const cached = localStorage.getItem(HOME_STORAGE_KEY);\n    if (cached) {\n      pageData.value = JSON.parse(cached);\n    }\n  } catch (error) {\n    console.warn('Failed to read cached page data', error);\n  }\n  \n  // Then fetch fresh data\n  try {\n    const response = await axios.get(API_ENDPOINTS.customPages, {\n      params: {\n        isFrontend: true,\n        page: HOME_PAGE\n      }\n    });\n    \n    const rawData = response?.data?.data || response?.data || [];\n    const transformed = transformToKeyValue(rawData);\n    \n    // Update state and cache\n    pageData.value = transformed;\n    localStorage.setItem(HOME_STORAGE_KEY, JSON.stringify(transformed));\n  } catch (error) {\n    console.warn('Failed to fetch page data', error);\n  }\n};\n\nonMounted(() => {\n  fetchPageData();\n});\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}