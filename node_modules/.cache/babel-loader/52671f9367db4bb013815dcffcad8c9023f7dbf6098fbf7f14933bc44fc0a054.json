{"ast":null,"code":"import { createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"bg-white text-slate-900\"\n};\nconst _hoisted_2 = {\n  id: \"home\"\n};\nconst _hoisted_3 = {\n  id: \"about\"\n};\nconst _hoisted_4 = {\n  id: \"properties\"\n};\nconst _hoisted_5 = {\n  id: \"featured\"\n};\nconst _hoisted_6 = {\n  id: \"services\"\n};\nconst _hoisted_7 = {\n  id: \"testimonials\"\n};\nconst _hoisted_8 = {\n  id: \"faq\"\n};\nconst _hoisted_9 = {\n  id: \"contact\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"main\", _hoisted_1, [_createElementVNode(\"section\", _hoisted_2, [_createVNode($setup[\"HeroSection\"], {\n    pageData: $setup.pageData\n  }, null, 8 /* PROPS */, [\"pageData\"])]), _createElementVNode(\"section\", _hoisted_3, [_createVNode($setup[\"AboutSection\"], {\n    pageData: $setup.pageData\n  }, null, 8 /* PROPS */, [\"pageData\"])]), _createElementVNode(\"section\", _hoisted_4, [_createVNode($setup[\"PropertyListSection\"], {\n    pageData: $setup.pageData\n  }, null, 8 /* PROPS */, [\"pageData\"])]), _createElementVNode(\"section\", _hoisted_5, [_createVNode($setup[\"FeaturedPropertiesSection\"], {\n    pageData: $setup.pageData\n  }, null, 8 /* PROPS */, [\"pageData\"])]), _createElementVNode(\"section\", _hoisted_6, [_createVNode($setup[\"ServicesSection\"], {\n    pageData: $setup.pageData\n  }, null, 8 /* PROPS */, [\"pageData\"])]), _createElementVNode(\"section\", _hoisted_7, [_createVNode($setup[\"TestimonialsSection\"])]), _createElementVNode(\"section\", _hoisted_8, [_createVNode($setup[\"FAQSection\"], {\n    pageData: $setup.pageData\n  }, null, 8 /* PROPS */, [\"pageData\"])]), _createElementVNode(\"section\", _hoisted_9, [_createVNode($setup[\"ContactSection\"], {\n    pageData: $setup.pageData\n  }, null, 8 /* PROPS */, [\"pageData\"])])]);\n}","map":{"version":3,"names":["class","id","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","$setup","pageData","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9"],"sources":["/Users/itgroup/Library/Mobile Documents/com~apple~CloudDocs/example/new_template_psggroup/compro_new/src/views/PageManagement.vue"],"sourcesContent":["<template>\n  <main class=\"bg-white text-slate-900\">\n    <section id=\"home\">\n      <HeroSection :pageData=\"pageData\" />\n    </section>\n    <section id=\"about\">\n      <AboutSection :pageData=\"pageData\" />\n    </section>\n    <section id=\"properties\">\n      <PropertyListSection :pageData=\"pageData\" />\n    </section>\n    <section id=\"featured\">\n      <FeaturedPropertiesSection :pageData=\"pageData\" />\n    </section>\n    <section id=\"services\">\n      <ServicesSection :pageData=\"pageData\" />\n    </section>\n    <section id=\"testimonials\">\n      <TestimonialsSection />\n    </section>\n    <section id=\"faq\">\n      <FAQSection :pageData=\"pageData\" />\n    </section>\n    <section id=\"contact\">\n      <ContactSection :pageData=\"pageData\" />\n    </section>\n  </main>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\nimport axios from 'axios';\nimport API_ENDPOINTS from '@/config/api';\n\n// Import section components\nimport HeroSection from '@/components/sections/HeroSection.vue';\nimport AboutSection from '@/components/sections/AboutSection.vue';\nimport PropertyListSection from '@/components/sections/PropertyListSection.vue';\nimport FeaturedPropertiesSection from '@/components/sections/FeaturedPropertiesSection.vue';\nimport ServicesSection from '@/components/sections/ServicesSection.vue';\nimport TestimonialsSection from '@/components/sections/TestimonialsSection.vue';\nimport FAQSection from '@/components/sections/FAQSection.vue';\nimport ContactSection from '@/components/sections/ContactSection.vue';\n\nconst HOME_PAGE = 'Home';\nconst HOME_STORAGE_KEY = `customPageData:${HOME_PAGE}`;\n\nconst pageData = ref({});\n\n// Transform API response to key-value format\nconst transformToKeyValue = (data) => {\n  if (!data || !Array.isArray(data)) return {};\n  \n  const result = {};\n  data.forEach(item => {\n    const tag = item.tag_name || item.tag;\n    if (!tag) return;\n    \n    // Parse content if it's a string\n    let content = item.content;\n    if (typeof content === 'string') {\n      try {\n        content = JSON.parse(content);\n      } catch (e) {\n        // Keep as string\n      }\n    }\n    \n    // Group by tag name\n    if (result[tag]) {\n      if (Array.isArray(result[tag])) {\n        result[tag].push(content);\n      } else {\n        result[tag] = [result[tag], content];\n      }\n    } else {\n      result[tag] = content;\n    }\n  });\n  \n  return result;\n};\n\n// Fetch custom page data from API\nconst fetchPageData = async () => {\n  // First check cache\n  try {\n    const cached = localStorage.getItem(HOME_STORAGE_KEY);\n    if (cached) {\n      pageData.value = JSON.parse(cached);\n    }\n  } catch (error) {\n    console.warn('Failed to read cached page data', error);\n  }\n  \n  // Then fetch fresh data\n  try {\n    const response = await axios.get(API_ENDPOINTS.customPages, {\n      params: {\n        isFrontend: true,\n        page: HOME_PAGE\n      }\n    });\n    \n    const rawData = response?.data?.data || response?.data || [];\n    const transformed = transformToKeyValue(rawData);\n    \n    // Update state and cache\n    pageData.value = transformed;\n    localStorage.setItem(HOME_STORAGE_KEY, JSON.stringify(transformed));\n  } catch (error) {\n    console.warn('Failed to fetch page data', error);\n  }\n};\n\nonMounted(() => {\n  fetchPageData();\n});\n</script>\n"],"mappings":";;EACQA,KAAK,EAAC;AAAyB;;EAC1BC,EAAE,EAAC;AAAM;;EAGTA,EAAE,EAAC;AAAO;;EAGVA,EAAE,EAAC;AAAY;;EAGfA,EAAE,EAAC;AAAU;;EAGbA,EAAE,EAAC;AAAU;;EAGbA,EAAE,EAAC;AAAc;;EAGjBA,EAAE,EAAC;AAAK;;EAGRA,EAAE,EAAC;AAAS;;uBAtBvBC,mBAAA,CAyBO,QAzBPC,UAyBO,GAxBLC,mBAAA,CAEU,WAFVC,UAEU,GADRC,YAAA,CAAoCC,MAAA;IAAtBC,QAAQ,EAAED,MAAA,CAAAC;EAAQ,sC,GAElCJ,mBAAA,CAEU,WAFVK,UAEU,GADRH,YAAA,CAAqCC,MAAA;IAAtBC,QAAQ,EAAED,MAAA,CAAAC;EAAQ,sC,GAEnCJ,mBAAA,CAEU,WAFVM,UAEU,GADRJ,YAAA,CAA4CC,MAAA;IAAtBC,QAAQ,EAAED,MAAA,CAAAC;EAAQ,sC,GAE1CJ,mBAAA,CAEU,WAFVO,UAEU,GADRL,YAAA,CAAkDC,MAAA;IAAtBC,QAAQ,EAAED,MAAA,CAAAC;EAAQ,sC,GAEhDJ,mBAAA,CAEU,WAFVQ,UAEU,GADRN,YAAA,CAAwCC,MAAA;IAAtBC,QAAQ,EAAED,MAAA,CAAAC;EAAQ,sC,GAEtCJ,mBAAA,CAEU,WAFVS,UAEU,GADRP,YAAA,CAAuBC,MAAA,yB,GAEzBH,mBAAA,CAEU,WAFVU,UAEU,GADRR,YAAA,CAAmCC,MAAA;IAAtBC,QAAQ,EAAED,MAAA,CAAAC;EAAQ,sC,GAEjCJ,mBAAA,CAEU,WAFVW,UAEU,GADRT,YAAA,CAAuCC,MAAA;IAAtBC,QAAQ,EAAED,MAAA,CAAAC;EAAQ,sC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}