{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, vModelSelect as _vModelSelect, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"pt-20\"\n};\nconst _hoisted_2 = {\n  class: \"bg-white border-b sticky top-20 z-40\"\n};\nconst _hoisted_3 = {\n  class: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\"\n};\nconst _hoisted_4 = {\n  class: \"flex flex-col lg:flex-row gap-4 items-center\"\n};\nconst _hoisted_5 = {\n  class: \"relative flex-grow w-full lg:w-auto\"\n};\nconst _hoisted_6 = {\n  class: \"flex flex-wrap gap-2\"\n};\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = {\n  class: \"py-12 bg-slate-50\"\n};\nconst _hoisted_9 = {\n  class: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\"\n};\nconst _hoisted_10 = {\n  class: \"mb-8 flex items-center justify-between\"\n};\nconst _hoisted_11 = {\n  class: \"text-slate-600\"\n};\nconst _hoisted_12 = {\n  class: \"font-semibold text-primary\"\n};\nconst _hoisted_13 = {\n  class: \"font-semibold text-primary\"\n};\nconst _hoisted_14 = {\n  key: 0,\n  class: \"grid md:grid-cols-2 lg:grid-cols-3 gap-8\"\n};\nconst _hoisted_15 = {\n  class: \"property-card-image\"\n};\nconst _hoisted_16 = [\"src\", \"alt\"];\nconst _hoisted_17 = {\n  class: \"property-card-badge\"\n};\nconst _hoisted_18 = {\n  class: \"property-card-content\"\n};\nconst _hoisted_19 = {\n  class: \"flex items-center gap-2 text-xs text-slate-500 mb-2\"\n};\nconst _hoisted_20 = {\n  class: \"property-card-title\"\n};\nconst _hoisted_21 = {\n  class: \"property-card-location\"\n};\nconst _hoisted_22 = {\n  class: \"flex items-center gap-4 text-sm text-slate-500 mb-4 border-t border-slate-100 pt-4\"\n};\nconst _hoisted_23 = {\n  class: \"flex items-center justify-between\"\n};\nconst _hoisted_24 = {\n  class: \"property-card-price\"\n};\nconst _hoisted_25 = {\n  key: 2,\n  class: \"mt-12 flex justify-center items-center gap-2\"\n};\nconst _hoisted_26 = [\"disabled\"];\nconst _hoisted_27 = [\"onClick\"];\nconst _hoisted_28 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"main\", _hoisted_1, [_createCommentVNode(\" Header \"), _cache[17] || (_cache[17] = _createStaticVNode(\"<section class=\\\"bg-gradient-hero text-white py-16\\\"><div class=\\\"section-container text-center\\\"><div class=\\\"section-badge bg-white/10 border-white/20 text-white/90 mx-auto mb-4\\\"><i class=\\\"fas fa-coffee\\\"></i><span>Daftar Coffee Shop</span></div><h1 class=\\\"text-4xl md:text-5xl font-bold mb-4\\\">Temukan Coffee Shop Favoritmu</h1><p class=\\\"text-lg text-white/70 max-w-2xl mx-auto\\\"> Jelajahi berbagai pilihan coffee shop terbaik dengan suasana nyaman dan kopi berkualitas </p></div></section>\", 1)), _createCommentVNode(\" Filters & Search \"), _createElementVNode(\"section\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" Search \"), _createElementVNode(\"div\", _hoisted_5, [_cache[4] || (_cache[4] = _createElementVNode(\"i\", {\n    class: \"fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-slate-400\"\n  }, null, -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.searchQuery = $event),\n    type: \"text\",\n    placeholder: \"Cari coffee shop...\",\n    class: \"w-full pl-12 pr-4 py-3 rounded-xl border border-slate-200 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all outline-none\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.searchQuery]])]), _createCommentVNode(\" Category Filter \"), _createElementVNode(\"div\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.categories, cat => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      key: cat.id,\n      onClick: $event => $setup.activeCategory = cat.id,\n      class: _normalizeClass([\"px-4 py-2 rounded-full text-sm font-medium transition-all duration-300\", [$setup.activeCategory === cat.id ? 'bg-primary text-white' : 'bg-slate-100 text-slate-600 hover:bg-slate-200']])\n    }, _toDisplayString(cat.name), 11 /* TEXT, CLASS, PROPS */, _hoisted_7);\n  }), 128 /* KEYED_FRAGMENT */))])])])]), _createCommentVNode(\" Listings Grid \"), _createElementVNode(\"section\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createCommentVNode(\" Results Count \"), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"p\", _hoisted_11, [_cache[5] || (_cache[5] = _createTextVNode(\" Menampilkan \", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_12, _toDisplayString($setup.paginatedListings.length), 1 /* TEXT */), _cache[6] || (_cache[6] = _createTextVNode(\" dari \", -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_13, _toDisplayString($setup.filteredListings.length), 1 /* TEXT */), _cache[7] || (_cache[7] = _createTextVNode(\" coffee shop \", -1 /* CACHED */))]), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.sortBy = $event),\n    class: \"px-4 py-2 rounded-lg border border-slate-200 text-sm\"\n  }, [...(_cache[8] || (_cache[8] = [_createElementVNode(\"option\", {\n    value: \"newest\"\n  }, \"Terbaru\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"price-low\"\n  }, \"Harga Terendah\", -1 /* CACHED */), _createElementVNode(\"option\", {\n    value: \"price-high\"\n  }, \"Harga Tertinggi\", -1 /* CACHED */)]))], 512 /* NEED_PATCH */), [[_vModelSelect, $setup.sortBy]])]), _createCommentVNode(\" Grid \"), $setup.paginatedListings.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.paginatedListings, listing => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: listing.post_id,\n      class: \"property-card group\"\n    }, [_createCommentVNode(\" Image \"), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"img\", {\n      src: listing.post?.thumbnail_url || 'https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=400&q=80',\n      alt: listing.post?.title || 'Property',\n      class: \"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500\"\n    }, null, 8 /* PROPS */, _hoisted_16), _createElementVNode(\"div\", _hoisted_17, _toDisplayString(listing.listingType?.name || 'Properti'), 1 /* TEXT */), _createCommentVNode(\" Quick Actions \"), _cache[9] || (_cache[9] = _createStaticVNode(\"<div class=\\\"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\\\"><button class=\\\"w-10 h-10 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-secondary hover:text-white transition-colors\\\"><i class=\\\"far fa-heart\\\"></i></button><button class=\\\"w-10 h-10 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-secondary hover:text-white transition-colors\\\"><i class=\\\"fas fa-share-alt\\\"></i></button></div>\", 1))]), _createCommentVNode(\" Content \"), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList((listing.post?.categories || []).slice(0, 2), cat => {\n      return _openBlock(), _createElementBlock(\"span\", {\n        key: cat.id,\n        class: \"px-2 py-1 rounded bg-slate-100\"\n      }, _toDisplayString(cat.name), 1 /* TEXT */);\n    }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"h3\", _hoisted_20, _toDisplayString(listing.post?.title || 'Properti Unggulan'), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_21, [_cache[10] || (_cache[10] = _createElementVNode(\"i\", {\n      class: \"fas fa-map-marker-alt text-secondary\"\n    }, null, -1 /* CACHED */)), _createElementVNode(\"span\", null, _toDisplayString([listing.kecamatan, listing.kabupaten].filter(Boolean).join(', ') || 'Jakarta'), 1 /* TEXT */)]), _createCommentVNode(\" Features \"), _createElementVNode(\"div\", _hoisted_22, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.getFeatures(listing), feat => {\n      return _openBlock(), _createElementBlock(\"span\", {\n        key: feat.icon,\n        class: \"flex items-center gap-1\"\n      }, [_createElementVNode(\"i\", {\n        class: _normalizeClass([feat.icon, \"text-secondary\"])\n      }, null, 2 /* CLASS */), _createTextVNode(\" \" + _toDisplayString(feat.value), 1 /* TEXT */)]);\n    }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_23, [_createElementVNode(\"div\", _hoisted_24, _toDisplayString($setup.formatPrice(listing.price)), 1 /* TEXT */), _createVNode(_component_router_link, {\n      to: `/listing/${listing.post_id}`,\n      class: \"btn-primary py-2 px-4 text-sm\"\n    }, {\n      default: _withCtx(() => [...(_cache[11] || (_cache[11] = [_createTextVNode(\" Detail \", -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"to\"])])])]);\n  }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Empty State \"), _createElementVNode(\"div\", {\n    class: \"text-center py-20\"\n  }, [_cache[12] || (_cache[12] = _createElementVNode(\"div\", {\n    class: \"w-24 h-24 mx-auto mb-6 rounded-full bg-slate-100 flex items-center justify-center\"\n  }, [_createElementVNode(\"i\", {\n    class: \"fas fa-search text-4xl text-slate-400\"\n  })], -1 /* CACHED */)), _cache[13] || (_cache[13] = _createElementVNode(\"h3\", {\n    class: \"text-xl font-semibold text-slate-700 mb-2\"\n  }, \"Tidak ada coffee shop ditemukan\", -1 /* CACHED */)), _cache[14] || (_cache[14] = _createElementVNode(\"p\", {\n    class: \"text-slate-500 mb-6\"\n  }, \"Coba ubah filter atau kata kunci pencarian Anda\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    onClick: $setup.resetFilters,\n    class: \"btn-secondary\"\n  }, \" Reset Filter \")])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)), _createCommentVNode(\" Pagination \"), $setup.totalPages > 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_25, [_createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = $event => $setup.currentPage = $setup.currentPage - 1),\n    disabled: $setup.currentPage === 1,\n    class: \"w-10 h-10 rounded-lg border border-slate-200 flex items-center justify-center hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed\"\n  }, [...(_cache[15] || (_cache[15] = [_createElementVNode(\"i\", {\n    class: \"fas fa-chevron-left\"\n  }, null, -1 /* CACHED */)]))], 8 /* PROPS */, _hoisted_26), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.visiblePages, page => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      key: page,\n      onClick: $event => $setup.currentPage = page,\n      class: _normalizeClass([\"w-10 h-10 rounded-lg flex items-center justify-center transition-colors\", [$setup.currentPage === page ? 'bg-primary text-white' : 'border border-slate-200 hover:bg-slate-100']])\n    }, _toDisplayString(page), 11 /* TEXT, CLASS, PROPS */, _hoisted_27);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = $event => $setup.currentPage = $setup.currentPage + 1),\n    disabled: $setup.currentPage === $setup.totalPages,\n    class: \"w-10 h-10 rounded-lg border border-slate-200 flex items-center justify-center hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed\"\n  }, [...(_cache[16] || (_cache[16] = [_createElementVNode(\"i\", {\n    class: \"fas fa-chevron-right\"\n  }, null, -1 /* CACHED */)]))], 8 /* PROPS */, _hoisted_28)])) : _createCommentVNode(\"v-if\", true)])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","$setup","searchQuery","$event","type","placeholder","_hoisted_6","_Fragment","_renderList","categories","cat","key","id","onClick","activeCategory","_normalizeClass","name","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_toDisplayString","paginatedListings","length","_hoisted_13","filteredListings","sortBy","value","_hoisted_14","listing","post_id","_hoisted_15","src","post","thumbnail_url","alt","title","_hoisted_17","listingType","_hoisted_18","_hoisted_19","slice","_hoisted_20","_hoisted_21","kecamatan","kabupaten","filter","Boolean","join","_hoisted_22","getFeatures","feat","icon","_hoisted_23","_hoisted_24","formatPrice","price","_createVNode","_component_router_link","to","_cache","resetFilters","totalPages","_hoisted_25","currentPage","disabled","visiblePages","page","_hoisted_27"],"sources":["/Users/itgroup/Library/Mobile Documents/com~apple~CloudDocs/example/new_template_psggroup/compro_new/src/views/ListingPage.vue"],"sourcesContent":["<template>\n  <main class=\"pt-20\">\n    <!-- Header -->\n    <section class=\"bg-gradient-hero text-white py-16\">\n      <div class=\"section-container text-center\">\n        <div class=\"section-badge bg-white/10 border-white/20 text-white/90 mx-auto mb-4\">\n          <i class=\"fas fa-coffee\"></i>\n          <span>Daftar Coffee Shop</span>\n        </div>\n        <h1 class=\"text-4xl md:text-5xl font-bold mb-4\">Temukan Coffee Shop Favoritmu</h1>\n        <p class=\"text-lg text-white/70 max-w-2xl mx-auto\">\n          Jelajahi berbagai pilihan coffee shop terbaik dengan suasana nyaman dan kopi berkualitas\n        </p>\n      </div>\n    </section>\n\n    <!-- Filters & Search -->\n    <section class=\"bg-white border-b sticky top-20 z-40\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n        <div class=\"flex flex-col lg:flex-row gap-4 items-center\">\n          <!-- Search -->\n          <div class=\"relative flex-grow w-full lg:w-auto\">\n            <i class=\"fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-slate-400\"></i>\n            <input \n              v-model=\"searchQuery\"\n              type=\"text\" \n              placeholder=\"Cari coffee shop...\"\n              class=\"w-full pl-12 pr-4 py-3 rounded-xl border border-slate-200 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all outline-none\"\n            />\n          </div>\n          \n          <!-- Category Filter -->\n          <div class=\"flex flex-wrap gap-2\">\n            <button\n              v-for=\"cat in categories\"\n              :key=\"cat.id\"\n              @click=\"activeCategory = cat.id\"\n              class=\"px-4 py-2 rounded-full text-sm font-medium transition-all duration-300\"\n              :class=\"[\n                activeCategory === cat.id\n                  ? 'bg-primary text-white'\n                  : 'bg-slate-100 text-slate-600 hover:bg-slate-200'\n              ]\"\n            >\n              {{ cat.name }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <!-- Listings Grid -->\n    <section class=\"py-12 bg-slate-50\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <!-- Results Count -->\n        <div class=\"mb-8 flex items-center justify-between\">\n          <p class=\"text-slate-600\">\n            Menampilkan <span class=\"font-semibold text-primary\">{{ paginatedListings.length }}</span> dari \n            <span class=\"font-semibold text-primary\">{{ filteredListings.length }}</span> coffee shop\n          </p>\n          <select v-model=\"sortBy\" class=\"px-4 py-2 rounded-lg border border-slate-200 text-sm\">\n            <option value=\"newest\">Terbaru</option>\n            <option value=\"price-low\">Harga Terendah</option>\n            <option value=\"price-high\">Harga Tertinggi</option>\n          </select>\n        </div>\n\n        <!-- Grid -->\n        <div v-if=\"paginatedListings.length > 0\" class=\"grid md:grid-cols-2 lg:grid-cols-3 gap-8\">\n          <div \n            v-for=\"listing in paginatedListings\" \n            :key=\"listing.post_id\"\n            class=\"property-card group\"\n          >\n            <!-- Image -->\n            <div class=\"property-card-image\">\n              <img \n                :src=\"listing.post?.thumbnail_url || 'https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=400&q=80'\"\n                :alt=\"listing.post?.title || 'Property'\"\n                class=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500\"\n              />\n              <div class=\"property-card-badge\">\n                {{ listing.listingType?.name || 'Properti' }}\n              </div>\n              <!-- Quick Actions -->\n              <div class=\"absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                <button class=\"w-10 h-10 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-secondary hover:text-white transition-colors\">\n                  <i class=\"far fa-heart\"></i>\n                </button>\n                <button class=\"w-10 h-10 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-secondary hover:text-white transition-colors\">\n                  <i class=\"fas fa-share-alt\"></i>\n                </button>\n              </div>\n            </div>\n\n            <!-- Content -->\n            <div class=\"property-card-content\">\n              <div class=\"flex items-center gap-2 text-xs text-slate-500 mb-2\">\n                <span v-for=\"cat in (listing.post?.categories || []).slice(0, 2)\" :key=\"cat.id\" class=\"px-2 py-1 rounded bg-slate-100\">\n                  {{ cat.name }}\n                </span>\n              </div>\n              <h3 class=\"property-card-title\">\n                {{ listing.post?.title || 'Properti Unggulan' }}\n              </h3>\n              <div class=\"property-card-location\">\n                <i class=\"fas fa-map-marker-alt text-secondary\"></i>\n                <span>{{ [listing.kecamatan, listing.kabupaten].filter(Boolean).join(', ') || 'Jakarta' }}</span>\n              </div>\n              \n              <!-- Features -->\n              <div class=\"flex items-center gap-4 text-sm text-slate-500 mb-4 border-t border-slate-100 pt-4\">\n                <span v-for=\"feat in getFeatures(listing)\" :key=\"feat.icon\" class=\"flex items-center gap-1\">\n                  <i :class=\"feat.icon\" class=\"text-secondary\"></i>\n                  {{ feat.value }}\n                </span>\n              </div>\n\n              <div class=\"flex items-center justify-between\">\n                <div class=\"property-card-price\">\n                  {{ formatPrice(listing.price) }}\n                </div>\n                <router-link \n                  :to=\"`/listing/${listing.post_id}`\"\n                  class=\"btn-primary py-2 px-4 text-sm\"\n                >\n                  Detail\n                </router-link>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Empty State -->\n        <div v-else class=\"text-center py-20\">\n          <div class=\"w-24 h-24 mx-auto mb-6 rounded-full bg-slate-100 flex items-center justify-center\">\n            <i class=\"fas fa-search text-4xl text-slate-400\"></i>\n          </div>\n          <h3 class=\"text-xl font-semibold text-slate-700 mb-2\">Tidak ada coffee shop ditemukan</h3>\n          <p class=\"text-slate-500 mb-6\">Coba ubah filter atau kata kunci pencarian Anda</p>\n          <button @click=\"resetFilters\" class=\"btn-secondary\">\n            Reset Filter\n          </button>\n        </div>\n\n        <!-- Pagination -->\n        <div v-if=\"totalPages > 1\" class=\"mt-12 flex justify-center items-center gap-2\">\n          <button \n            @click=\"currentPage = currentPage - 1\"\n            :disabled=\"currentPage === 1\"\n            class=\"w-10 h-10 rounded-lg border border-slate-200 flex items-center justify-center hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            <i class=\"fas fa-chevron-left\"></i>\n          </button>\n          <button\n            v-for=\"page in visiblePages\"\n            :key=\"page\"\n            @click=\"currentPage = page\"\n            class=\"w-10 h-10 rounded-lg flex items-center justify-center transition-colors\"\n            :class=\"[\n              currentPage === page\n                ? 'bg-primary text-white'\n                : 'border border-slate-200 hover:bg-slate-100'\n            ]\"\n          >\n            {{ page }}\n          </button>\n          <button \n            @click=\"currentPage = currentPage + 1\"\n            :disabled=\"currentPage === totalPages\"\n            class=\"w-10 h-10 rounded-lg border border-slate-200 flex items-center justify-center hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            <i class=\"fas fa-chevron-right\"></i>\n          </button>\n        </div>\n      </div>\n    </section>\n  </main>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted } from 'vue';\nimport axios from 'axios';\nimport API_ENDPOINTS from '@/config/api';\n\n// Get config from window\nconst LISTING_TYPE = window.LISTING_TYPE || 1;\nconst LISTING_DISPLAY_IN = window.LISTING_DISPLAY_IN || 8;\n\nconst listings = ref([]);\nconst categories = ref([{ id: null, name: 'Semua' }]);\nconst activeCategory = ref(null);\nconst searchQuery = ref('');\nconst sortBy = ref('newest');\nconst currentPage = ref(1);\nconst itemsPerPage = 9;\n\nconst filteredListings = computed(() => {\n  let result = [...listings.value];\n  \n  // Filter by category\n  if (activeCategory.value) {\n    result = result.filter(listing => \n      listing.post?.categories?.some(cat => cat.id === activeCategory.value)\n    );\n  }\n  \n  // Filter by search\n  if (searchQuery.value) {\n    const query = searchQuery.value.toLowerCase();\n    result = result.filter(listing => \n      listing.post?.title?.toLowerCase().includes(query) ||\n      listing.kecamatan?.toLowerCase().includes(query) ||\n      listing.kabupaten?.toLowerCase().includes(query)\n    );\n  }\n  \n  // Sort\n  if (sortBy.value === 'price-low') {\n    result.sort((a, b) => parseFloat(a.price || 0) - parseFloat(b.price || 0));\n  } else if (sortBy.value === 'price-high') {\n    result.sort((a, b) => parseFloat(b.price || 0) - parseFloat(a.price || 0));\n  }\n  \n  return result;\n});\n\nconst totalPages = computed(() => Math.ceil(filteredListings.value.length / itemsPerPage));\n\nconst paginatedListings = computed(() => {\n  const start = (currentPage.value - 1) * itemsPerPage;\n  return filteredListings.value.slice(start, start + itemsPerPage);\n});\n\nconst visiblePages = computed(() => {\n  const pages = [];\n  const total = totalPages.value;\n  const current = currentPage.value;\n  \n  let start = Math.max(1, current - 2);\n  let end = Math.min(total, current + 2);\n  \n  if (end - start < 4) {\n    if (start === 1) {\n      end = Math.min(5, total);\n    } else {\n      start = Math.max(1, total - 4);\n    }\n  }\n  \n  for (let i = start; i <= end; i++) {\n    pages.push(i);\n  }\n  \n  return pages;\n});\n\nconst formatPrice = (price) => {\n  if (!price) return 'Hubungi Kami';\n  const num = parseFloat(price);\n  if (isNaN(num)) return price;\n  return new Intl.NumberFormat('id-ID', {\n    style: 'currency',\n    currency: 'IDR',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  }).format(num);\n};\n\nconst getFeatures = (listing) => {\n  const features = [];\n  const values = listing.values || [];\n  \n  // Find features using exact tagnames from coffee shop schema\n  const kapasitasVal = values.find(v => v.tag_name === 'kapasitas');\n  const luasTempatVal = values.find(v => v.tag_name === 'luas_tempat');\n  const wifiVal = values.find(v => v.tag_name === 'wifi');\n  const parkirVal = values.find(v => v.tag_name === 'parkir');\n  \n  if (kapasitasVal) features.push({ icon: 'fas fa-users', value: `${kapasitasVal.value} org` });\n  if (luasTempatVal) features.push({ icon: 'fas fa-ruler-combined', value: `${luasTempatVal.value} mÂ²` });\n  if (wifiVal) features.push({ icon: 'fas fa-wifi', value: wifiVal.value });\n  if (parkirVal) features.push({ icon: 'fas fa-parking', value: parkirVal.value });\n  \n  // Fallback with default values if no features found\n  if (features.length === 0) {\n    features.push({ icon: 'fas fa-users', value: '-' });\n    features.push({ icon: 'fas fa-ruler-combined', value: '-' });\n    features.push({ icon: 'fas fa-wifi', value: '-' });\n  }\n  \n  return features.slice(0, 3);\n};\n\nconst resetFilters = () => {\n  activeCategory.value = null;\n  searchQuery.value = '';\n  sortBy.value = 'newest';\n  currentPage.value = 1;\n};\n\nconst fetchListings = async () => {\n  try {\n    const response = await axios.get(API_ENDPOINTS.listings, {\n      params: { listing_type: LISTING_TYPE }\n    });\n    const data = response?.data?.data || response?.data || [];\n    listings.value = data.filter(listing => listing.listing_type === LISTING_TYPE);\n    \n    // Extract categories from listings\n    const categoriesMap = {};\n    listings.value.forEach(listing => {\n      (listing.post?.categories || []).forEach(cat => {\n        if (cat.display_in === LISTING_DISPLAY_IN) {\n          categoriesMap[cat.id] = {\n            id: cat.id,\n            name: cat.name,\n            slug: cat.slug\n          };\n        }\n      });\n    });\n    \n    categories.value = [\n      { id: null, name: 'Semua' },\n      ...Object.values(categoriesMap)\n    ];\n  } catch (error) {\n    console.warn('Failed to fetch listings', error);\n  }\n};\n\nonMounted(() => {\n  fetchListings();\n});\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}