{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  id: \"properties\",\n  class: \"py-20 lg:py-28 bg-white\"\n};\nconst _hoisted_2 = {\n  class: \"section-container\"\n};\nconst _hoisted_3 = {\n  class: \"text-center mb-16\"\n};\nconst _hoisted_4 = {\n  class: \"section-badge mx-auto mb-4\"\n};\nconst _hoisted_5 = {\n  class: \"section-title mb-4\"\n};\nconst _hoisted_6 = {\n  class: \"section-subtitle mx-auto\"\n};\nconst _hoisted_7 = {\n  class: \"flex flex-wrap justify-center gap-3 mb-12\"\n};\nconst _hoisted_8 = [\"onClick\"];\nconst _hoisted_9 = {\n  key: 0,\n  class: \"grid md:grid-cols-2 lg:grid-cols-3 gap-8\"\n};\nconst _hoisted_10 = {\n  class: \"property-card-image\"\n};\nconst _hoisted_11 = [\"src\", \"alt\"];\nconst _hoisted_12 = {\n  class: \"property-card-badge\"\n};\nconst _hoisted_13 = {\n  class: \"property-card-content\"\n};\nconst _hoisted_14 = {\n  class: \"property-card-title\"\n};\nconst _hoisted_15 = {\n  class: \"property-card-location\"\n};\nconst _hoisted_16 = {\n  class: \"flex items-center justify-between\"\n};\nconst _hoisted_17 = {\n  class: \"property-card-price\"\n};\nconst _hoisted_18 = {\n  class: \"text-center mt-12\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" Header \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_cache[0] || (_cache[0] = _createElementVNode(\"i\", {\n    class: \"fas fa-building\"\n  }, null, -1 /* CACHED */)), _createElementVNode(\"span\", null, _toDisplayString($setup.sectionState.badge), 1 /* TEXT */)]), _createElementVNode(\"h2\", _hoisted_5, _toDisplayString($setup.sectionState.title), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_6, _toDisplayString($setup.sectionState.subtitle), 1 /* TEXT */)]), _createCommentVNode(\" Categories Filter \"), _createElementVNode(\"div\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.categories, cat => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      key: cat.id,\n      onClick: $event => $setup.activeCategory = cat.id,\n      class: _normalizeClass([\"px-5 py-2.5 rounded-full font-medium transition-all duration-300\", [$setup.activeCategory === cat.id ? 'bg-primary text-white shadow-lg' : 'bg-slate-100 text-slate-600 hover:bg-slate-200']])\n    }, _toDisplayString(cat.name), 11 /* TEXT, CLASS, PROPS */, _hoisted_8);\n  }), 128 /* KEYED_FRAGMENT */))]), _createCommentVNode(\" Listings Grid \"), $setup.filteredListings.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.filteredListings.slice(0, 6), listing => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: listing.post_id,\n      class: \"property-card group\"\n    }, [_createCommentVNode(\" Image \"), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"img\", {\n      src: listing.post?.thumbnail_url || 'https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=400&q=80',\n      alt: listing.post?.title || 'Property',\n      class: \"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500\"\n    }, null, 8 /* PROPS */, _hoisted_11), _createElementVNode(\"div\", _hoisted_12, _toDisplayString(listing.listingType?.name || 'Properti'), 1 /* TEXT */)]), _createCommentVNode(\" Content \"), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"h3\", _hoisted_14, _toDisplayString(listing.post?.title || 'Properti Unggulan'), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_15, [_cache[1] || (_cache[1] = _createElementVNode(\"i\", {\n      class: \"fas fa-map-marker-alt text-secondary\"\n    }, null, -1 /* CACHED */)), _createElementVNode(\"span\", null, _toDisplayString(listing.kecamatan || listing.kabupaten || 'Jakarta'), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, _toDisplayString($setup.formatPrice(listing.price)), 1 /* TEXT */), _createVNode(_component_router_link, {\n      to: `/listing/${listing.post_id}`,\n      class: \"text-primary hover:text-secondary transition-colors font-medium\"\n    }, {\n      default: _withCtx(() => [...(_cache[2] || (_cache[2] = [_createTextVNode(\" Detail \", -1 /* CACHED */), _createElementVNode(\"i\", {\n        class: \"fas fa-arrow-right ml-1\"\n      }, null, -1 /* CACHED */)]))]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"to\"])])])]);\n  }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Empty State \"), _cache[3] || (_cache[3] = _createStaticVNode(\"<div class=\\\"text-center py-16\\\"><div class=\\\"w-24 h-24 mx-auto mb-6 rounded-full bg-slate-100 flex items-center justify-center\\\"><i class=\\\"fas fa-home text-4xl text-slate-400\\\"></i></div><h3 class=\\\"text-xl font-semibold text-slate-700 mb-2\\\">Belum Ada Listing</h3><p class=\\\"text-slate-500\\\">Listing akan segera tersedia</p></div>\", 1))], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)), _createCommentVNode(\" View All Button \"), _createElementVNode(\"div\", _hoisted_18, [_createVNode(_component_router_link, {\n    to: $setup.sectionState.buttonLink,\n    class: \"btn-secondary\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"span\", null, _toDisplayString($setup.sectionState.buttonText), 1 /* TEXT */), _cache[4] || (_cache[4] = _createElementVNode(\"i\", {\n      class: \"fas fa-arrow-right\"\n    }, null, -1 /* CACHED */))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"])])])]);\n}","map":{"version":3,"names":["id","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createCommentVNode","_hoisted_3","_hoisted_4","_toDisplayString","$setup","sectionState","badge","_hoisted_5","title","_hoisted_6","subtitle","_hoisted_7","_Fragment","_renderList","categories","cat","key","onClick","$event","activeCategory","_normalizeClass","name","_hoisted_8","filteredListings","length","_hoisted_9","slice","listing","post_id","_hoisted_10","src","post","thumbnail_url","alt","_hoisted_12","listingType","_hoisted_13","_hoisted_14","_hoisted_15","kecamatan","kabupaten","_hoisted_16","_hoisted_17","formatPrice","price","_createVNode","_component_router_link","to","_cache","_hoisted_18","buttonLink","buttonText"],"sources":["/Users/itgroup/Library/Mobile Documents/com~apple~CloudDocs/example/new_template_psggroup/compro_new/src/components/sections/PropertyListSection.vue"],"sourcesContent":["<template>\n  <section id=\"properties\" class=\"py-20 lg:py-28 bg-white\">\n    <div class=\"section-container\">\n      <!-- Header -->\n      <div class=\"text-center mb-16\">\n        <div class=\"section-badge mx-auto mb-4\">\n          <i class=\"fas fa-building\"></i>\n          <span>{{ sectionState.badge }}</span>\n        </div>\n        <h2 class=\"section-title mb-4\">{{ sectionState.title }}</h2>\n        <p class=\"section-subtitle mx-auto\">{{ sectionState.subtitle }}</p>\n      </div>\n\n      <!-- Categories Filter -->\n      <div class=\"flex flex-wrap justify-center gap-3 mb-12\">\n        <button\n          v-for=\"cat in categories\"\n          :key=\"cat.id\"\n          @click=\"activeCategory = cat.id\"\n          class=\"px-5 py-2.5 rounded-full font-medium transition-all duration-300\"\n          :class=\"[\n            activeCategory === cat.id\n              ? 'bg-primary text-white shadow-lg'\n              : 'bg-slate-100 text-slate-600 hover:bg-slate-200'\n          ]\"\n        >\n          {{ cat.name }}\n        </button>\n      </div>\n\n      <!-- Listings Grid -->\n      <div v-if=\"filteredListings.length > 0\" class=\"grid md:grid-cols-2 lg:grid-cols-3 gap-8\">\n        <div \n          v-for=\"listing in filteredListings.slice(0, 6)\" \n          :key=\"listing.post_id\"\n          class=\"property-card group\"\n        >\n          <!-- Image -->\n          <div class=\"property-card-image\">\n            <img \n              :src=\"listing.post?.thumbnail_url || 'https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=400&q=80'\"\n              :alt=\"listing.post?.title || 'Property'\"\n              class=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500\"\n            />\n            <div class=\"property-card-badge\">\n              {{ listing.listingType?.name || 'Properti' }}\n            </div>\n          </div>\n\n          <!-- Content -->\n          <div class=\"property-card-content\">\n            <h3 class=\"property-card-title\">\n              {{ listing.post?.title || 'Properti Unggulan' }}\n            </h3>\n            <div class=\"property-card-location\">\n              <i class=\"fas fa-map-marker-alt text-secondary\"></i>\n              <span>{{ listing.kecamatan || listing.kabupaten || 'Jakarta' }}</span>\n            </div>\n            <div class=\"flex items-center justify-between\">\n              <div class=\"property-card-price\">\n                {{ formatPrice(listing.price) }}\n              </div>\n              <router-link \n                :to=\"`/listing/${listing.post_id}`\"\n                class=\"text-primary hover:text-secondary transition-colors font-medium\"\n              >\n                Detail <i class=\"fas fa-arrow-right ml-1\"></i>\n              </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Empty State -->\n      <div v-else class=\"text-center py-16\">\n        <div class=\"w-24 h-24 mx-auto mb-6 rounded-full bg-slate-100 flex items-center justify-center\">\n          <i class=\"fas fa-home text-4xl text-slate-400\"></i>\n        </div>\n        <h3 class=\"text-xl font-semibold text-slate-700 mb-2\">Belum Ada Listing</h3>\n        <p class=\"text-slate-500\">Listing akan segera tersedia</p>\n      </div>\n\n      <!-- View All Button -->\n      <div class=\"text-center mt-12\">\n        <router-link :to=\"sectionState.buttonLink\" class=\"btn-secondary\">\n          <span>{{ sectionState.buttonText }}</span>\n          <i class=\"fas fa-arrow-right\"></i>\n        </router-link>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script setup>\nimport { ref, computed, watch, onMounted } from 'vue';\nimport axios from 'axios';\nimport API_ENDPOINTS from '@/config/api';\n\n// Storage key for cache\nconst HOME_PAGE = 'Home';\nconst HOME_STORAGE_KEY = `customPageData:${HOME_PAGE}`;\n\n// Get config from window\nconst LISTING_TYPE = window.LISTING_TYPE || 1;\nconst LISTING_DISPLAY_IN = window.LISTING_DISPLAY_IN || 8;\n\n/* global defineProps */\nconst props = defineProps({\n  pageData: {\n    type: Object,\n    default: () => ({}),\n  },\n});\n\n// Base/default values\nconst baseSection = {\n  badge: 'Properti Kami',\n  title: 'Pilihan Properti Terbaik',\n  subtitle: 'Temukan berbagai pilihan properti berkualitas tinggi sesuai kebutuhan Anda',\n  buttonText: 'Lihat Semua Properti',\n  buttonLink: '/listing',\n};\n\nconst sectionState = ref({ ...baseSection });\nconst listings = ref([]);\nconst categories = ref([{ id: null, name: 'Semua' }]);\nconst activeCategory = ref(null);\n\nconst filteredListings = computed(() => {\n  if (!activeCategory.value) return listings.value;\n  return listings.value.filter(listing => \n    listing.post?.categories?.some(cat => cat.id === activeCategory.value)\n  );\n});\n\nconst formatPrice = (price) => {\n  if (!price) return 'Hubungi Kami';\n  const num = parseFloat(price);\n  if (isNaN(num)) return price;\n  return new Intl.NumberFormat('id-ID', {\n    style: 'currency',\n    currency: 'IDR',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  }).format(num);\n};\n\n// Helper functions\nconst getCachedHomeData = () => {\n  if (typeof window === 'undefined') return null;\n  try {\n    const raw = localStorage.getItem(HOME_STORAGE_KEY);\n    return raw ? JSON.parse(raw) : null;\n  } catch (error) {\n    return null;\n  }\n};\n\nconst parse = (data) => {\n  if (!data) return null;\n  if (typeof data === 'string') {\n    try {\n      return JSON.parse(data);\n    } catch (err) {\n      return null;\n    }\n  }\n  return data;\n};\n\nconst getItemByTag = (tag, allData) => {\n  const section = allData?.[tag];\n  if (!section) return [];\n  const parseItem = (item) => parse(item) || {};\n  return Array.isArray(section) ? section.map(parseItem) : [parseItem(section)];\n};\n\nconst applyContentFromProps = () => {\n  const cached = getCachedHomeData();\n  const source =\n    (props.pageData && Object.keys(props.pageData || {}).length && props.pageData) ||\n    cached ||\n    {};\n\n  const getField = (obj, key1, key2) => (obj ? obj[key1] || obj[key2] || '' : '');\n\n  const badgeObj = getItemByTag('propertyList_badge9', source)[0] || {};\n  const mainObj = getItemByTag('propertyList_main9', source)[0] || {};\n  const buttonObj = getItemByTag('propertyList_button9', source)[0] || {};\n\n  sectionState.value = {\n    badge: getField(badgeObj, 'title', 'content') || baseSection.badge,\n    title: getField(mainObj, 'title', 'heading') || baseSection.title,\n    subtitle: getField(mainObj, 'content', 'subtitle') || baseSection.subtitle,\n    buttonText: getField(buttonObj, 'title', 'text') || baseSection.buttonText,\n    buttonLink: getField(buttonObj, 'link', 'Link') || baseSection.buttonLink,\n  };\n};\n\nconst fetchListings = async () => {\n  try {\n    const response = await axios.get(API_ENDPOINTS.listings, {\n      params: { listing_type: LISTING_TYPE }\n    });\n    const data = response?.data?.data || response?.data || [];\n    listings.value = data.filter(listing => listing.listing_type === LISTING_TYPE);\n    \n    // Extract categories from listings\n    const categoriesMap = {};\n    listings.value.forEach(listing => {\n      (listing.post?.categories || []).forEach(cat => {\n        if (cat.display_in === LISTING_DISPLAY_IN) {\n          categoriesMap[cat.id] = {\n            id: cat.id,\n            name: cat.name,\n            slug: cat.slug\n          };\n        }\n      });\n    });\n    \n    categories.value = [\n      { id: null, name: 'Semua' },\n      ...Object.values(categoriesMap)\n    ];\n  } catch (error) {\n    console.warn('Failed to fetch listings', error);\n  }\n};\n\nwatch(\n  () => props.pageData,\n  () => applyContentFromProps(),\n  { deep: true, immediate: true }\n);\n\nonMounted(() => {\n  applyContentFromProps();\n  fetchListings();\n});\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}