{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  id: \"testimonials\",\n  class: \"py-20 lg:py-28 bg-gradient-primary text-white overflow-hidden\"\n};\nconst _hoisted_2 = {\n  class: \"section-container\"\n};\nconst _hoisted_3 = {\n  class: \"text-center mb-16\"\n};\nconst _hoisted_4 = {\n  class: \"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 mb-4\"\n};\nconst _hoisted_5 = {\n  class: \"text-white/90 text-sm font-medium\"\n};\nconst _hoisted_6 = {\n  class: \"text-3xl md:text-4xl lg:text-5xl font-bold mb-4\"\n};\nconst _hoisted_7 = {\n  class: \"text-lg text-white/60 max-w-2xl mx-auto\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"flex justify-center items-center py-16\"\n};\nconst _hoisted_9 = {\n  class: \"grid md:grid-cols-2 lg:grid-cols-3 gap-8\"\n};\nconst _hoisted_10 = {\n  class: \"flex gap-1 mb-4\"\n};\nconst _hoisted_11 = {\n  class: \"text-white/80 leading-relaxed mb-6\"\n};\nconst _hoisted_12 = {\n  class: \"flex items-center gap-4\"\n};\nconst _hoisted_13 = [\"src\", \"alt\"];\nconst _hoisted_14 = {\n  key: 1,\n  class: \"w-14 h-14 rounded-full bg-secondary/30 flex items-center justify-center border-2 border-secondary\"\n};\nconst _hoisted_15 = {\n  class: \"font-semibold text-white\"\n};\nconst _hoisted_16 = {\n  class: \"text-sm text-white/60\"\n};\nconst _hoisted_17 = {\n  class: \"mt-16 grid grid-cols-2 md:grid-cols-4 gap-8\"\n};\nconst _hoisted_18 = {\n  class: \"text-4xl font-bold text-secondary mb-2\"\n};\nconst _hoisted_19 = {\n  class: \"text-white/60\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" Header \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_cache[0] || (_cache[0] = _createElementVNode(\"i\", {\n    class: \"fas fa-quote-left text-secondary\"\n  }, null, -1 /* CACHED */)), _createElementVNode(\"span\", _hoisted_5, _toDisplayString($setup.sectionState.badge), 1 /* TEXT */)]), _createElementVNode(\"h2\", _hoisted_6, _toDisplayString($setup.sectionState.title), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_7, _toDisplayString($setup.sectionState.subtitle), 1 /* TEXT */)]), _createCommentVNode(\" Loading State \"), $setup.isLoading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [...(_cache[1] || (_cache[1] = [_createElementVNode(\"i\", {\n    class: \"fas fa-spinner fa-spin text-4xl text-secondary\"\n  }, null, -1 /* CACHED */)]))])) : $setup.testimonials.length > 0 ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Testimonials Grid \"), _createElementVNode(\"div\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.testimonials, testimonial => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: testimonial.id,\n      class: \"glass rounded-2xl p-8 hover:bg-white/20 transition-all duration-500\"\n    }, [_createCommentVNode(\" Rating \"), _createElementVNode(\"div\", _hoisted_10, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList(5, star => {\n      return _createElementVNode(\"i\", {\n        key: star,\n        class: \"fas fa-star text-secondary\"\n      });\n    }), 64 /* STABLE_FRAGMENT */))]), _createCommentVNode(\" Quote \"), _createElementVNode(\"p\", _hoisted_11, \" \\\"\" + _toDisplayString($setup.stripHtml(testimonial.content)) + \"\\\" \", 1 /* TEXT */), _createCommentVNode(\" Author \"), _createElementVNode(\"div\", _hoisted_12, [testimonial.avatar ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      src: testimonial.avatar,\n      alt: testimonial.name,\n      class: \"w-14 h-14 rounded-full object-cover border-2 border-secondary\"\n    }, null, 8 /* PROPS */, _hoisted_13)) : (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [...(_cache[2] || (_cache[2] = [_createElementVNode(\"i\", {\n      class: \"fas fa-user text-white text-xl\"\n    }, null, -1 /* CACHED */)]))])), _createElementVNode(\"div\", null, [_createElementVNode(\"h4\", _hoisted_15, _toDisplayString(testimonial.name), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_16, _toDisplayString(testimonial.role), 1 /* TEXT */)])])]);\n  }), 128 /* KEYED_FRAGMENT */))])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 2\n  }, [_createCommentVNode(\" Empty State \"), _cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n    class: \"text-center py-16\"\n  }, [_createElementVNode(\"p\", {\n    class: \"text-white/60\"\n  }, \"Belum ada testimoni tersedia\")], -1 /* CACHED */))], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */)), _createCommentVNode(\" Stats \"), _createElementVNode(\"div\", _hoisted_17, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.stats, (stat, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"text-center\"\n    }, [_createElementVNode(\"div\", _hoisted_18, _toDisplayString(stat.value), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_19, _toDisplayString(stat.label), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["id","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createCommentVNode","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","$setup","sectionState","badge","_hoisted_6","title","_hoisted_7","subtitle","isLoading","_hoisted_8","_cache","testimonials","length","_Fragment","key","_hoisted_9","_renderList","testimonial","_hoisted_10","star","_hoisted_11","stripHtml","content","_hoisted_12","avatar","src","alt","name","_hoisted_14","_hoisted_15","_hoisted_16","role","_hoisted_17","stats","stat","index","_hoisted_18","value","_hoisted_19","label"],"sources":["/Users/itgroup/Library/Mobile Documents/com~apple~CloudDocs/example/new_template_psggroup/compro_new/src/components/sections/TestimonialsSection.vue"],"sourcesContent":["<template>\n  <section id=\"testimonials\" class=\"py-20 lg:py-28 bg-gradient-primary text-white overflow-hidden\">\n    <div class=\"section-container\">\n      <!-- Header -->\n      <div class=\"text-center mb-16\">\n        <div class=\"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 mb-4\">\n          <i class=\"fas fa-quote-left text-secondary\"></i>\n          <span class=\"text-white/90 text-sm font-medium\">{{ sectionState.badge }}</span>\n        </div>\n        <h2 class=\"text-3xl md:text-4xl lg:text-5xl font-bold mb-4\">\n          {{ sectionState.title }}\n        </h2>\n        <p class=\"text-lg text-white/60 max-w-2xl mx-auto\">\n          {{ sectionState.subtitle }}\n        </p>\n      </div>\n\n      <!-- Loading State -->\n      <div v-if=\"isLoading\" class=\"flex justify-center items-center py-16\">\n        <i class=\"fas fa-spinner fa-spin text-4xl text-secondary\"></i>\n      </div>\n\n      <!-- Testimonials Grid -->\n      <div v-else-if=\"testimonials.length > 0\" class=\"grid md:grid-cols-2 lg:grid-cols-3 gap-8\">\n        <div \n          v-for=\"testimonial in testimonials\" \n          :key=\"testimonial.id\"\n          class=\"glass rounded-2xl p-8 hover:bg-white/20 transition-all duration-500\"\n        >\n          <!-- Rating -->\n          <div class=\"flex gap-1 mb-4\">\n            <i \n              v-for=\"star in 5\" \n              :key=\"star\"\n              class=\"fas fa-star text-secondary\"\n            ></i>\n          </div>\n\n          <!-- Quote -->\n          <p class=\"text-white/80 leading-relaxed mb-6\">\n            \"{{ stripHtml(testimonial.content) }}\"\n          </p>\n\n          <!-- Author -->\n          <div class=\"flex items-center gap-4\">\n            <img \n              v-if=\"testimonial.avatar\"\n              :src=\"testimonial.avatar\"\n              :alt=\"testimonial.name\"\n              class=\"w-14 h-14 rounded-full object-cover border-2 border-secondary\"\n            />\n            <div \n              v-else\n              class=\"w-14 h-14 rounded-full bg-secondary/30 flex items-center justify-center border-2 border-secondary\"\n            >\n              <i class=\"fas fa-user text-white text-xl\"></i>\n            </div>\n            <div>\n              <h4 class=\"font-semibold text-white\">{{ testimonial.name }}</h4>\n              <p class=\"text-sm text-white/60\">{{ testimonial.role }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Empty State -->\n      <div v-else class=\"text-center py-16\">\n        <p class=\"text-white/60\">Belum ada testimoni tersedia</p>\n      </div>\n\n      <!-- Stats -->\n      <div class=\"mt-16 grid grid-cols-2 md:grid-cols-4 gap-8\">\n        <div v-for=\"(stat, index) in stats\" :key=\"index\" class=\"text-center\">\n          <div class=\"text-4xl font-bold text-secondary mb-2\">{{ stat.value }}</div>\n          <div class=\"text-white/60\">{{ stat.label }}</div>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script setup>\nimport { ref, watch, onMounted } from 'vue';\nimport axios from 'axios';\nimport API_ENDPOINTS from '@/config/api';\n\n// Storage key untuk cache\nconst HOME_PAGE = 'Home';\nconst HOME_STORAGE_KEY = `customPageData:${HOME_PAGE}`;\n\n/* global defineProps */\nconst props = defineProps({\n  pageData: {\n    type: Object,\n    default: () => ({}),\n  },\n});\n\n// Base/default values\nconst baseSection = {\n  badge: 'Testimoni',\n  title: 'Apa Kata Mereka?',\n  subtitle: 'Kepuasan klien adalah prioritas utama kami. Berikut pengalaman mereka bersama kami.',\n};\n\nconst sectionState = ref({ ...baseSection });\nconst testimonials = ref([]);\nconst isLoading = ref(true);\n\nconst stats = ref([\n  { value: '500+', label: 'Properti Terjual' },\n  { value: '1000+', label: 'Klien Puas' },\n  { value: '50+', label: 'Kota Terjangkau' },\n  { value: '4.9', label: 'Rating' },\n]);\n\n// Helper: get cached home data from localStorage\nconst getCachedHomeData = () => {\n  if (typeof window === 'undefined') return null;\n  try {\n    const raw = localStorage.getItem(HOME_STORAGE_KEY);\n    return raw ? JSON.parse(raw) : null;\n  } catch (error) {\n    console.warn('Failed to read cached home data', error);\n    return null;\n  }\n};\n\n// Helper: parse JSON string or return object\nconst parse = (data) => {\n  if (!data) return null;\n  if (typeof data === 'string') {\n    try {\n      return JSON.parse(data);\n    } catch (err) {\n      return null;\n    }\n  }\n  return data;\n};\n\n// Helper: get item by tag from all data\nconst getItemByTag = (tag, allData) => {\n  const section = allData?.[tag];\n  if (!section) return [];\n  const parseItem = (item) => parse(item) || {};\n  return Array.isArray(section) ? section.map(parseItem) : [parseItem(section)];\n};\n\n// Apply content from props or cache\nconst applyContentFromProps = () => {\n  const cached = getCachedHomeData();\n  const source =\n    (props.pageData && Object.keys(props.pageData || {}).length && props.pageData) ||\n    cached ||\n    {};\n\n  const getField = (obj, key1, key2) => (obj ? obj[key1] || obj[key2] || '' : '');\n\n  // Get data from tags\n  const badgeObj = getItemByTag('testimoni_badge9', source)[0] || {};\n  const titleObj = getItemByTag('testimoni_title9', source)[0] || {};\n\n  sectionState.value = {\n    badge: getField(badgeObj, 'title', 'content') || baseSection.badge,\n    title: getField(titleObj, 'title', 'heading') || baseSection.title,\n    subtitle: getField(titleObj, 'content', 'subtitle') || baseSection.subtitle,\n  };\n};\n\n// Watch for pageData changes\nwatch(\n  () => props.pageData,\n  () => applyContentFromProps(),\n  { deep: true, immediate: true }\n);\n\n// Strip HTML tags for plain text display\nconst stripHtml = (html) => {\n  if (!html) return '';\n  const doc = new DOMParser().parseFromString(html, 'text/html');\n  return doc.body.textContent || '';\n};\n\n// Fetch testimonials from API\nconst fetchTestimonials = async () => {\n  isLoading.value = true;\n  try {\n    const response = await axios.get(API_ENDPOINTS.testimonials);\n    \n    const data = response?.data?.data || response?.data || [];\n    \n    // Map API response to testimonial format\n    testimonials.value = (Array.isArray(data) ? data : []).map(item => ({\n      id: item.id,\n      name: item.author_name || item.title || 'Anonim',\n      role: item.author_position || item.excerpt || '',\n      avatar: item.thumbnail_url || null,\n      content: item.content || '',\n    }));\n    \n  } catch (error) {\n    console.warn('Failed to fetch testimonials, using defaults', error);\n    // Fallback to default testimonials\n    testimonials.value = [\n      {\n        id: 1,\n        name: 'Budi Santoso',\n        role: 'Pengusaha',\n        avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop',\n        content: 'Pelayanan sangat profesional dan membantu saya menemukan rumah impian dengan harga yang sesuai budget. Terima kasih!',\n      },\n      {\n        id: 2,\n        name: 'Siti Rahayu',\n        role: 'Dokter',\n        avatar: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150&h=150&fit=crop',\n        content: 'Proses pembelian rumah sangat mudah dan transparan. Tim sangat responsif dalam menjawab semua pertanyaan saya.',\n      },\n      {\n        id: 3,\n        name: 'Ahmad Wijaya',\n        role: 'Manager',\n        avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop',\n        content: 'Sangat puas dengan layanan konsultasi investasi properti. Sekarang saya sudah punya 3 unit apartemen untuk passive income.',\n      },\n    ];\n  } finally {\n    isLoading.value = false;\n  }\n};\n\nonMounted(() => {\n  applyContentFromProps();\n  fetchTestimonials();\n});\n</script>\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}