{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { ref, computed, onMounted, onUnmounted, inject } from 'vue';\nimport { useRoute } from 'vue-router';\nimport axios from 'axios';\nimport API_ENDPOINTS, { API_URL } from '@/config/api';\n\n/* global defineProps */\nconst websiteId = 1;\nexport default {\n  __name: 'NavbarApp',\n  props: {\n    settings: {\n      type: Object,\n      default: () => ({})\n    },\n    menuItems: {\n      type: Array,\n      default: () => []\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    const siteInfo = inject('siteInfo', {});\n    const route = useRoute();\n    const logo = ref('');\n    const siteTitle = ref('Property Template');\n    const siteDescription = ref('Find Your Dream Property');\n    const menus = ref([]);\n    const isScrolled = ref(false);\n    const isMobileMenuOpen = ref(false);\n\n    // Check if we're on the home page (which has dark hero section)\n    const isHomePage = computed(() => route.path === '/' || route.path === '');\n\n    // Show solid navbar if scrolled OR not on home page\n    const showSolidNavbar = computed(() => isScrolled.value || !isHomePage.value);\n    const defaultMenuItems = [{\n      id: 1,\n      title: 'Beranda',\n      path: '/'\n    }, {\n      id: 2,\n      title: 'Properti',\n      path: '/listing'\n    }, {\n      id: 3,\n      title: 'Blog',\n      path: '/blog'\n    }, {\n      id: 4,\n      title: 'Bantuan',\n      path: '/help'\n    }];\n\n    // Join URL helper\n    const joinUrl = (base, path) => {\n      if (!base || !path) return path || base || '';\n      const cleanBase = base.endsWith('/') ? base.slice(0, -1) : base;\n      const cleanPath = path.startsWith('/') ? path : `/${path}`;\n      return `${cleanBase}${cleanPath}`;\n    };\n\n    // Handle scroll\n    const handleScroll = () => {\n      isScrolled.value = window.scrollY > 50;\n    };\n\n    // Fetch logo from API\n    const fetchLogo = async () => {\n      try {\n        const res = await axios.get(API_ENDPOINTS.settingLogo);\n        const raw = res?.data?.data || res?.data || {};\n        const candidate = raw.logo || raw.icon || raw.value;\n        if (candidate) {\n          logo.value = /^https?:\\/\\//i.test(candidate) ? candidate : joinUrl(API_URL, candidate);\n        }\n      } catch (error) {\n        logo.value = props.settings?.logo || siteInfo?.logo || '';\n      }\n    };\n\n    // Fetch site settings from API\n    const fetchSiteSettings = async () => {\n      try {\n        const res = await axios.get(API_ENDPOINTS.siteSettingsPublic(websiteId));\n        const settings = res.data?.settings || res.data?.data || res.data;\n        if (settings) {\n          siteTitle.value = settings.title || settings.site_title || siteTitle.value;\n          siteDescription.value = settings.site_description || settings.description || settings.site_tagline || siteDescription.value;\n        }\n      } catch (err) {\n        console.error('Error fetch site settings:', err);\n        // Fallback ke props atau default\n        siteTitle.value = props.settings?.site_title || siteInfo?.site_title || 'Property Template';\n        siteDescription.value = props.settings?.site_tagline || siteInfo?.site_tagline || 'Find Your Dream Property';\n      }\n    };\n\n    // Fetch menu from API\n    const fetchMenu = async () => {\n      try {\n        const menuGroup = window.MENU_GROUP_SLUG || 'main';\n        const response = await axios.get(API_ENDPOINTS.menuListByGroup(menuGroup));\n        const items = response?.data?.data || response?.data || [];\n        if (items.length > 0) {\n          menus.value = items.map(item => ({\n            id: item.id,\n            title: item.title || item.label || item.name,\n            path: item.path || item.url || item.link || '/',\n            target: item.target || '_self',\n            parent_id: item.parent_id || null\n          }));\n        } else {\n          menus.value = defaultMenuItems;\n        }\n      } catch (error) {\n        console.warn('Failed to fetch menu, using defaults', error);\n        menus.value = defaultMenuItems;\n      }\n    };\n    onMounted(async () => {\n      window.addEventListener('scroll', handleScroll);\n      handleScroll();\n      await fetchLogo();\n      await fetchSiteSettings();\n      await fetchMenu();\n    });\n    onUnmounted(() => {\n      window.removeEventListener('scroll', handleScroll);\n    });\n    const __returned__ = {\n      props,\n      siteInfo,\n      route,\n      logo,\n      siteTitle,\n      siteDescription,\n      menus,\n      isScrolled,\n      isMobileMenuOpen,\n      isHomePage,\n      showSolidNavbar,\n      defaultMenuItems,\n      joinUrl,\n      handleScroll,\n      fetchLogo,\n      websiteId,\n      fetchSiteSettings,\n      fetchMenu,\n      ref,\n      computed,\n      onMounted,\n      onUnmounted,\n      inject,\n      get useRoute() {\n        return useRoute;\n      },\n      get axios() {\n        return axios;\n      },\n      get API_ENDPOINTS() {\n        return API_ENDPOINTS;\n      },\n      get API_URL() {\n        return API_URL;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","onUnmounted","inject","useRoute","axios","API_ENDPOINTS","API_URL","websiteId","props","__props","siteInfo","route","logo","siteTitle","siteDescription","menus","isScrolled","isMobileMenuOpen","isHomePage","path","showSolidNavbar","value","defaultMenuItems","id","title","joinUrl","base","cleanBase","endsWith","slice","cleanPath","startsWith","handleScroll","window","scrollY","fetchLogo","res","get","settingLogo","raw","data","candidate","icon","test","error","settings","fetchSiteSettings","siteSettingsPublic","site_title","site_description","description","site_tagline","err","console","fetchMenu","menuGroup","MENU_GROUP_SLUG","response","menuListByGroup","items","length","map","item","label","name","url","link","target","parent_id","warn","addEventListener","removeEventListener"],"sources":["/Users/itgroup/Library/Mobile Documents/com~apple~CloudDocs/example/new_template_psggroup/compro_new/src/components/NavbarApp.vue"],"sourcesContent":["<template>\n  <nav \n    class=\"fixed top-0 left-0 right-0 z-50 transition-all duration-300\"\n    :class=\"[\n      showSolidNavbar \n        ? 'bg-white/95 backdrop-blur-lg shadow-lg' \n        : 'bg-transparent'\n    ]\"\n  >\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n      <div class=\"flex items-center justify-between h-20\">\n        <!-- Logo -->\n        <router-link to=\"/\" class=\"flex items-center gap-3\">\n          <img \n            v-if=\"logo\" \n            :src=\"logo\" \n            alt=\"Logo\" \n            class=\"h-10 w-auto\"\n          />\n          <span \n            class=\"text-xl font-bold transition-colors duration-300\"\n            :class=\"showSolidNavbar ? 'text-primary' : 'text-white'\"\n          >\n            {{ siteTitle }}\n          </span>\n        </router-link>\n\n        <!-- Desktop Menu -->\n        <div class=\"hidden lg:flex items-center gap-8\">\n          <template v-for=\"item in menus\" :key=\"item.id\">\n            <router-link \n              v-if=\"!item.path.startsWith('http')\"\n              :to=\"item.path\"\n              class=\"font-medium transition-colors duration-300 hover:text-secondary\"\n              :class=\"showSolidNavbar ? 'text-slate-700' : 'text-white'\"\n            >\n              {{ item.title }}\n            </router-link>\n            <a \n              v-else\n              :href=\"item.path\"\n              :target=\"item.target\"\n              class=\"font-medium transition-colors duration-300 hover:text-secondary\"\n              :class=\"showSolidNavbar ? 'text-slate-700' : 'text-white'\"\n            >\n              {{ item.title }}\n            </a>\n          </template>\n          <router-link \n            to=\"/contact\" \n            class=\"btn-primary\"\n          >\n            <i class=\"fas fa-phone\"></i>\n            Hubungi Kami\n          </router-link>\n        </div>\n\n        <!-- Mobile Menu Button -->\n        <button \n          @click=\"isMobileMenuOpen = !isMobileMenuOpen\"\n          class=\"lg:hidden p-2 rounded-lg transition-colors\"\n          :class=\"showSolidNavbar ? 'text-primary' : 'text-white'\"\n        >\n          <i :class=\"isMobileMenuOpen ? 'fas fa-times' : 'fas fa-bars'\" class=\"text-2xl\"></i>\n        </button>\n      </div>\n    </div>\n\n    <!-- Mobile Menu -->\n    <transition\n      enter-active-class=\"transition duration-200 ease-out\"\n      enter-from-class=\"opacity-0 -translate-y-4\"\n      enter-to-class=\"opacity-100 translate-y-0\"\n      leave-active-class=\"transition duration-150 ease-in\"\n      leave-from-class=\"opacity-100 translate-y-0\"\n      leave-to-class=\"opacity-0 -translate-y-4\"\n    >\n      <div \n        v-show=\"isMobileMenuOpen\"\n        class=\"lg:hidden bg-white shadow-xl border-t\"\n      >\n        <div class=\"px-4 py-6 space-y-4\">\n          <template v-for=\"item in menus\" :key=\"item.id\">\n            <router-link \n              v-if=\"!item.path.startsWith('http')\"\n              :to=\"item.path\"\n              @click=\"isMobileMenuOpen = false\"\n              class=\"block py-2 text-slate-700 font-medium hover:text-primary\"\n            >\n              {{ item.title }}\n            </router-link>\n            <a \n              v-else\n              :href=\"item.path\"\n              :target=\"item.target\"\n              @click=\"isMobileMenuOpen = false\"\n              class=\"block py-2 text-slate-700 font-medium hover:text-primary\"\n            >\n              {{ item.title }}\n            </a>\n          </template>\n          <router-link \n            to=\"/contact\" \n            @click=\"isMobileMenuOpen = false\"\n            class=\"btn-primary w-full justify-center\"\n          >\n            <i class=\"fas fa-phone\"></i>\n            Hubungi Kami\n          </router-link>\n        </div>\n      </div>\n    </transition>\n  </nav>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, onUnmounted, inject } from 'vue';\nimport { useRoute } from 'vue-router';\nimport axios from 'axios';\nimport API_ENDPOINTS, { API_URL } from '@/config/api';\n\n/* global defineProps */\nconst props = defineProps({\n  settings: { type: Object, default: () => ({}) },\n  menuItems: { type: Array, default: () => [] },\n});\n\nconst siteInfo = inject('siteInfo', {});\nconst route = useRoute();\n\nconst logo = ref('');\nconst siteTitle = ref('Property Template');\nconst siteDescription = ref('Find Your Dream Property');\nconst menus = ref([]);\nconst isScrolled = ref(false);\nconst isMobileMenuOpen = ref(false);\n\n// Check if we're on the home page (which has dark hero section)\nconst isHomePage = computed(() => route.path === '/' || route.path === '');\n\n// Show solid navbar if scrolled OR not on home page\nconst showSolidNavbar = computed(() => isScrolled.value || !isHomePage.value);\n\nconst defaultMenuItems = [\n  { id: 1, title: 'Beranda', path: '/' },\n  { id: 2, title: 'Properti', path: '/listing' },\n  { id: 3, title: 'Blog', path: '/blog' },\n  { id: 4, title: 'Bantuan', path: '/help' },\n];\n\n// Join URL helper\nconst joinUrl = (base, path) => {\n  if (!base || !path) return path || base || '';\n  const cleanBase = base.endsWith('/') ? base.slice(0, -1) : base;\n  const cleanPath = path.startsWith('/') ? path : `/${path}`;\n  return `${cleanBase}${cleanPath}`;\n};\n\n// Handle scroll\nconst handleScroll = () => {\n  isScrolled.value = window.scrollY > 50;\n};\n\n// Fetch logo from API\nconst fetchLogo = async () => {\n  try {\n    const res = await axios.get(API_ENDPOINTS.settingLogo);\n    const raw = res?.data?.data || res?.data || {};\n    const candidate = raw.logo || raw.icon || raw.value;\n    if (candidate) {\n      logo.value = /^https?:\\/\\//i.test(candidate) ? candidate : joinUrl(API_URL, candidate);\n    }\n  } catch (error) {\n    logo.value = props.settings?.logo || siteInfo?.logo || '';\n  }\n};\n\n// Fetch site settings from API\nconst websiteId = 1;\nconst fetchSiteSettings = async () => {\n  try {\n    const res = await axios.get(API_ENDPOINTS.siteSettingsPublic(websiteId));\n    const settings = res.data?.settings || res.data?.data || res.data;\n    \n    if (settings) {\n      siteTitle.value = settings.title || settings.site_title || siteTitle.value;\n      siteDescription.value = settings.site_description || settings.description || settings.site_tagline || siteDescription.value;\n    }\n  } catch (err) {\n    console.error('Error fetch site settings:', err);\n    // Fallback ke props atau default\n    siteTitle.value = props.settings?.site_title || siteInfo?.site_title || 'Property Template';\n    siteDescription.value = props.settings?.site_tagline || siteInfo?.site_tagline || 'Find Your Dream Property';\n  }\n};\n\n// Fetch menu from API\nconst fetchMenu = async () => {\n  try {\n    const menuGroup = window.MENU_GROUP_SLUG || 'main';\n    const response = await axios.get(API_ENDPOINTS.menuListByGroup(menuGroup));\n    const items = response?.data?.data || response?.data || [];\n    \n    if (items.length > 0) {\n      menus.value = items.map(item => ({\n        id: item.id,\n        title: item.title || item.label || item.name,\n        path: item.path || item.url || item.link || '/',\n        target: item.target || '_self',\n        parent_id: item.parent_id || null,\n      }));\n    } else {\n      menus.value = defaultMenuItems;\n    }\n  } catch (error) {\n    console.warn('Failed to fetch menu, using defaults', error);\n    menus.value = defaultMenuItems;\n  }\n};\n\nonMounted(async () => {\n  window.addEventListener('scroll', handleScroll);\n  handleScroll();\n  \n  await fetchLogo();\n  await fetchSiteSettings();\n  await fetchMenu();\n});\n\nonUnmounted(() => {\n  window.removeEventListener('scroll', handleScroll);\n});\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}