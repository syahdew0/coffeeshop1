"use strict";(self["webpackChunkproperty_template"]=self["webpackChunkproperty_template"]||[]).push([[282],{8282:function(e,a,t){t.r(a),t.d(a,{default:function(){return H}});t(4114),t(8111),t(2489),t(116),t(7588),t(3579);var l=t(6768),s=t(5130),i=t(4232),r=t(144),o=t(4373),n=t(2674);const u={class:"pt-20"},c={class:"bg-white border-b sticky top-20 z-40"},p={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},d={class:"flex flex-col lg:flex-row gap-4 items-center"},f={class:"relative flex-grow w-full lg:w-auto"},v={class:"flex flex-wrap gap-2"},m=["onClick"],g={class:"py-12 bg-slate-50"},b={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},h={class:"mb-8 flex items-center justify-between"},x={class:"text-slate-600"},k={class:"font-semibold text-primary"},y={class:"font-semibold text-primary"},w={key:0,class:"grid md:grid-cols-2 lg:grid-cols-3 gap-8"},L={class:"property-card-image"},C=["src","alt"],_={class:"property-card-badge"},E={class:"property-card-content"},F={class:"flex items-center gap-2 text-xs text-slate-500 mb-2"},I={class:"property-card-title"},X={class:"property-card-location"},j={class:"flex items-center gap-4 text-sm text-slate-500 mb-4 border-t border-slate-100 pt-4"},K={class:"flex items-center justify-between"},T={class:"property-card-price"},W={key:1,class:"text-center py-20"},R={key:2,class:"mt-12 flex justify-center items-center gap-2"},D=["disabled"],S=["onClick"],M=["disabled"],N=9;var P={__name:"ListingPage",setup(e){const a=window.LISTING_TYPE||1,t=window.LISTING_DISPLAY_IN||8,P=(0,r.KR)([]),A=(0,r.KR)([{id:null,name:"Semua"}]),H=(0,r.KR)(null),J=(0,r.KR)(""),U=(0,r.KR)("newest"),V=(0,r.KR)(1),$=(0,l.EW)(()=>{let e=[...P.value];if(H.value&&(e=e.filter(e=>e.post?.categories?.some(e=>e.id===H.value))),J.value){const a=J.value.toLowerCase();e=e.filter(e=>e.post?.title?.toLowerCase().includes(a)||e.kecamatan?.toLowerCase().includes(a)||e.kabupaten?.toLowerCase().includes(a))}return"price-low"===U.value?e.sort((e,a)=>parseFloat(e.price||0)-parseFloat(a.price||0)):"price-high"===U.value&&e.sort((e,a)=>parseFloat(a.price||0)-parseFloat(e.price||0)),e}),G=(0,l.EW)(()=>Math.ceil($.value.length/N)),Y=(0,l.EW)(()=>{const e=(V.value-1)*N;return $.value.slice(e,e+N)}),q=(0,l.EW)(()=>{const e=[],a=G.value,t=V.value;let l=Math.max(1,t-2),s=Math.min(a,t+2);s-l<4&&(1===l?s=Math.min(5,a):l=Math.max(1,a-4));for(let i=l;i<=s;i++)e.push(i);return e}),z=e=>{if(!e)return"Hubungi Kami";const a=parseFloat(e);return isNaN(a)?e:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(a)},B=e=>{const a=[],t=e.values||[],l=t.find(e=>"kapasitas"===e.tag_name),s=t.find(e=>"luas_tempat"===e.tag_name),i=t.find(e=>"wifi"===e.tag_name),r=t.find(e=>"parkir"===e.tag_name);return l&&a.push({icon:"fas fa-users",value:`${l.value} org`}),s&&a.push({icon:"fas fa-ruler-combined",value:`${s.value} mÂ²`}),i&&a.push({icon:"fas fa-wifi",value:i.value}),r&&a.push({icon:"fas fa-parking",value:r.value}),0===a.length&&(a.push({icon:"fas fa-users",value:"-"}),a.push({icon:"fas fa-ruler-combined",value:"-"}),a.push({icon:"fas fa-wifi",value:"-"})),a.slice(0,3)},O=()=>{H.value=null,J.value="",U.value="newest",V.value=1},Q=async()=>{try{const e=await o.A.get(n.Ay.listings,{params:{listing_type:a}}),l=e?.data?.data||e?.data||[];P.value=l.filter(e=>e.listing_type===a);const s={};P.value.forEach(e=>{(e.post?.categories||[]).forEach(e=>{e.display_in===t&&(s[e.id]={id:e.id,name:e.name,slug:e.slug})})}),A.value=[{id:null,name:"Semua"},...Object.values(s)]}catch(e){console.warn("Failed to fetch listings",e)}};return(0,l.sV)(()=>{Q()}),(e,a)=>{const t=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("main",u,[a[17]||(a[17]=(0,l.Fv)('<section class="bg-gradient-hero text-white py-16"><div class="section-container text-center"><div class="section-badge bg-white/10 border-white/20 text-white/90 mx-auto mb-4"><i class="fas fa-coffee"></i><span>Daftar Coffee Shop</span></div><h1 class="text-4xl md:text-5xl font-bold mb-4">Temukan Coffee Shop Favoritmu</h1><p class="text-lg text-white/70 max-w-2xl mx-auto"> Jelajahi berbagai pilihan coffee shop terbaik dengan suasana nyaman dan kopi berkualitas </p></div></section>',1)),(0,l.Lk)("section",c,[(0,l.Lk)("div",p,[(0,l.Lk)("div",d,[(0,l.Lk)("div",f,[a[4]||(a[4]=(0,l.Lk)("i",{class:"fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"},null,-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>J.value=e),type:"text",placeholder:"Cari coffee shop...",class:"w-full pl-12 pr-4 py-3 rounded-xl border border-slate-200 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all outline-none"},null,512),[[s.Jo,J.value]])]),(0,l.Lk)("div",v,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(A.value,e=>((0,l.uX)(),(0,l.CE)("button",{key:e.id,onClick:a=>H.value=e.id,class:(0,i.C4)(["px-4 py-2 rounded-full text-sm font-medium transition-all duration-300",[H.value===e.id?"bg-primary text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"]])},(0,i.v_)(e.name),11,m))),128))])])])]),(0,l.Lk)("section",g,[(0,l.Lk)("div",b,[(0,l.Lk)("div",h,[(0,l.Lk)("p",x,[a[5]||(a[5]=(0,l.eW)(" Menampilkan ",-1)),(0,l.Lk)("span",k,(0,i.v_)(Y.value.length),1),a[6]||(a[6]=(0,l.eW)(" dari ",-1)),(0,l.Lk)("span",y,(0,i.v_)($.value.length),1),a[7]||(a[7]=(0,l.eW)(" coffee shop ",-1))]),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[1]||(a[1]=e=>U.value=e),class:"px-4 py-2 rounded-lg border border-slate-200 text-sm"},[...a[8]||(a[8]=[(0,l.Lk)("option",{value:"newest"},"Terbaru",-1),(0,l.Lk)("option",{value:"price-low"},"Harga Terendah",-1),(0,l.Lk)("option",{value:"price-high"},"Harga Tertinggi",-1)])],512),[[s.u1,U.value]])]),Y.value.length>0?((0,l.uX)(),(0,l.CE)("div",w,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(Y.value,e=>((0,l.uX)(),(0,l.CE)("div",{key:e.post_id,class:"property-card group"},[(0,l.Lk)("div",L,[(0,l.Lk)("img",{src:e.post?.thumbnail_url||"https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=400&q=80",alt:e.post?.title||"Property",class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"},null,8,C),(0,l.Lk)("div",_,(0,i.v_)(e.listingType?.name||"Properti"),1),a[9]||(a[9]=(0,l.Fv)('<div class="absolute top-4 right-4 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity"><button class="w-10 h-10 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-secondary hover:text-white transition-colors"><i class="far fa-heart"></i></button><button class="w-10 h-10 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-secondary hover:text-white transition-colors"><i class="fas fa-share-alt"></i></button></div>',1))]),(0,l.Lk)("div",E,[(0,l.Lk)("div",F,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((e.post?.categories||[]).slice(0,2),e=>((0,l.uX)(),(0,l.CE)("span",{key:e.id,class:"px-2 py-1 rounded bg-slate-100"},(0,i.v_)(e.name),1))),128))]),(0,l.Lk)("h3",I,(0,i.v_)(e.post?.title||"Properti Unggulan"),1),(0,l.Lk)("div",X,[a[10]||(a[10]=(0,l.Lk)("i",{class:"fas fa-map-marker-alt text-secondary"},null,-1)),(0,l.Lk)("span",null,(0,i.v_)([e.kecamatan,e.kabupaten].filter(Boolean).join(", ")||"Jakarta"),1)]),(0,l.Lk)("div",j,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(B(e),e=>((0,l.uX)(),(0,l.CE)("span",{key:e.icon,class:"flex items-center gap-1"},[(0,l.Lk)("i",{class:(0,i.C4)([e.icon,"text-secondary"])},null,2),(0,l.eW)(" "+(0,i.v_)(e.value),1)]))),128))]),(0,l.Lk)("div",K,[(0,l.Lk)("div",T,(0,i.v_)(z(e.price)),1),(0,l.bF)(t,{to:`/listing/${e.post_id}`,class:"btn-primary py-2 px-4 text-sm"},{default:(0,l.k6)(()=>[...a[11]||(a[11]=[(0,l.eW)(" Detail ",-1)])]),_:1},8,["to"])])])]))),128))])):((0,l.uX)(),(0,l.CE)("div",W,[a[12]||(a[12]=(0,l.Lk)("div",{class:"w-24 h-24 mx-auto mb-6 rounded-full bg-slate-100 flex items-center justify-center"},[(0,l.Lk)("i",{class:"fas fa-search text-4xl text-slate-400"})],-1)),a[13]||(a[13]=(0,l.Lk)("h3",{class:"text-xl font-semibold text-slate-700 mb-2"},"Tidak ada coffee shop ditemukan",-1)),a[14]||(a[14]=(0,l.Lk)("p",{class:"text-slate-500 mb-6"},"Coba ubah filter atau kata kunci pencarian Anda",-1)),(0,l.Lk)("button",{onClick:O,class:"btn-secondary"}," Reset Filter ")])),G.value>1?((0,l.uX)(),(0,l.CE)("div",R,[(0,l.Lk)("button",{onClick:a[2]||(a[2]=e=>V.value=V.value-1),disabled:1===V.value,class:"w-10 h-10 rounded-lg border border-slate-200 flex items-center justify-center hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed"},[...a[15]||(a[15]=[(0,l.Lk)("i",{class:"fas fa-chevron-left"},null,-1)])],8,D),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(q.value,e=>((0,l.uX)(),(0,l.CE)("button",{key:e,onClick:a=>V.value=e,class:(0,i.C4)(["w-10 h-10 rounded-lg flex items-center justify-center transition-colors",[V.value===e?"bg-primary text-white":"border border-slate-200 hover:bg-slate-100"]])},(0,i.v_)(e),11,S))),128)),(0,l.Lk)("button",{onClick:a[3]||(a[3]=e=>V.value=V.value+1),disabled:V.value===G.value,class:"w-10 h-10 rounded-lg border border-slate-200 flex items-center justify-center hover:bg-slate-100 disabled:opacity-50 disabled:cursor-not-allowed"},[...a[16]||(a[16]=[(0,l.Lk)("i",{class:"fas fa-chevron-right"},null,-1)])],8,M)])):(0,l.Q3)("",!0)])])])}}};const A=P;var H=A}}]);
//# sourceMappingURL=282.0d8a9fd1.js.map